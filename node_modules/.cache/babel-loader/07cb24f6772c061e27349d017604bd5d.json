{"ast":null,"code":"function setToken(token){if(token){localStorage.setItem('token',token);}else{localStorage.removeItem('token');}}function getUserFromToken(){var token=getToken();return token?JSON.parse(atob(token.split('.')[1])).user:null;}function getToken(){var token=localStorage.getItem('token');if(token){var payload=JSON.parse(atob(token.split('.')[1]));if(payload.exp<Date.now()/1000){localStorage.removeItem('token');token=null;}}return token;}function removeToken(){localStorage.removeItem('token');}export default{setToken:setToken,getToken:getToken,getUserFromToken:getUserFromToken,removeToken:removeToken};","map":{"version":3,"sources":["/Users/Marcus/code/sandbox/binge/src/services/tokenService.js"],"names":["setToken","token","localStorage","setItem","removeItem","getUserFromToken","getToken","JSON","parse","atob","split","user","getItem","payload","exp","Date","now","removeToken"],"mappings":"AAAA,QAASA,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACrB,GAAIA,KAAJ,CAAW,CACTC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,KAA9B,EACD,CAFD,IAEO,CACLC,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACD,CACF,CAEH,QAASC,CAAAA,gBAAT,EAA6B,CAC3B,GAAMJ,CAAAA,KAAK,CAAGK,QAAQ,EAAtB,CACA,MAAOL,CAAAA,KAAK,CAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,EAAsCC,IAAzC,CAAgD,IAA5D,CACD,CAED,QAASL,CAAAA,QAAT,EAAoB,CAClB,GAAIL,CAAAA,KAAK,CAAGC,YAAY,CAACU,OAAb,CAAqB,OAArB,CAAZ,CACA,GAAIX,KAAJ,CAAW,CACT,GAAMY,CAAAA,OAAO,CAAGN,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAhB,CACA,GAAIG,OAAO,CAACC,GAAR,CAAcC,IAAI,CAACC,GAAL,GAAa,IAA/B,CAAqC,CACnCd,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACAH,KAAK,CAAG,IAAR,CACD,CACF,CACD,MAAOA,CAAAA,KAAP,CACD,CAED,QAASgB,CAAAA,WAAT,EAAuB,CACnBf,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACH,CAED,cAAe,CACXJ,QAAQ,CAARA,QADW,CAEXM,QAAQ,CAARA,QAFW,CAGXD,gBAAgB,CAAhBA,gBAHW,CAIXY,WAAW,CAAXA,WAJW,CAAf","sourcesContent":["function setToken(token) {\n    if (token) {\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('token');\n    } \n  }\n  \nfunction getUserFromToken () {\n  const token = getToken();\n  return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n}\n\nfunction getToken() {\n  let token = localStorage.getItem('token');\n  if (token) {\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    if (payload.exp < Date.now() / 1000) {\n      localStorage.removeItem('token');\n      token = null;\n    }\n  }\n  return token;\n}\n\nfunction removeToken() {\n    localStorage.removeItem('token');\n}\n\nexport default {\n    setToken,\n    getToken,\n    getUserFromToken,\n    removeToken,\n  };"]},"metadata":{},"sourceType":"module"}